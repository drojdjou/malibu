var Framework={version:"4",build:183,date:"2018-02-09T22:11:01.545Z"},Simplrz=function(){var e={},t=["js"],n=function(n,r){var i=r();e[n]=!!i,t.push(i?n:"no-"+n),document.documentElement.setAttribute("class",t.join(" "))};e.pixelRatio=window.devicePixelRatio||1;var r=function(){var e="",t="",n="";return window.getComputedStyle&&(e=window.getComputedStyle(document.documentElement,""))&&(t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],n="WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1]),{dom:n,lowercase:t,css:"-"+t+"-",js:""==t?"":t[0].toUpperCase()+t.substr(1)}}();e.prefix=r,t.push(r.lowercase),e.prefixedProp=function(e){switch(r.lowercase){case"webkit":return"webkit"+e.charAt(0).toUpperCase()+e.slice(1);case"ms":return"-ms-"+e;case"moz":return"Moz"+e.charAt(0).toUpperCase()+e.slice(1);default:return r.css+e}};var i=function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:null}();if(null==i){var o=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),a=navigator.userAgent,s=a.match(o);i=s&&s.length>1?parseInt(s[1]):null}return e.ie=i||!1,t.push(i?"ie-"+i:"no-ie"),e.firefox="moz"==r.lowercase,t.push(e.firefox?"firefox":"no-firefox"),e.safariDesktop=navigator.userAgent.match(/Safari/)&&!navigator.userAgent.match(/Chrome/)&&!("ontouchstart"in document),t.push(e.safariDesktop?"safari-desktop":"no-safari-desktop"),e.iOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),t.push(e.iOS?"ios":"no-ios"),e.iPad="iPad"==navigator.platform,t.push(e.iPad?"ipad":"no-ipad"),e.win="Win32"==navigator.platform||"Win64"==navigator.platform,t.push(e.win?"win":"no-win"),e.android=navigator.userAgent.toLowerCase().indexOf("android")>-1,t.push(e.android?"android":"no-android"),n("css3d",function(){if("webkit"==r.lowercase||"moz"==r.lowercase)return!0;if("ms"==r.lowercase){var e=document.createElement("div");e.style[r.css+"transform"]="translateZ(0px)";var t=window.getComputedStyle(e);if(t){var n=t.getPropertyValue(r.css+"transform");return n&&""!=n&&"none"!=n}}return!1}),n("csstransitions",function(){return!i||i>=10}),n("cssanimations",function(){return!i||i>=10}),n("css2d",function(){return!i||i>=9}),n("touch",function(){return"ontouchstart"in document&&"Win32"!=navigator.platform}),n("pointer",function(){return!!window.navigator.pointerEnabled||!!window.navigator.msPointerEnabled}),n("canvas",function(){try{return document.createElement("canvas").getContext("2d")}catch(e){return!1}}),n("history",function(){return!(!window.history||!history.pushState)}),n("webrtc",function(){return"getUserMedia"in navigator||"webkitGetUserMedia"in navigator}),n("webgl",function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return!1}}),e.classes=t,e}(),Trigger=function(){var e={},t=[],n=!1,r=[],i=[];return e.on=function(e,n,r){t.indexOf(e)>-1||(e.context=n,t.push(e),r&&e())},e.off=function(e){var r=t.indexOf(e);if(-1!=r)return n?void i.push({callback:e}):void t.splice(r,1)},e.trigger=function(o){if(n)return void r.push({data:o});n=!0;for(var a=0,s=t.length;a<s;){var c=t[a];c.call(c.context,o),a++}n=!1;for(var u;u=r.shift();)e.trigger(u.data);for(;u=i.shift();)e.off(u.callback)},e},Timer=function(e,t){var n=this,r=!1;this.time=0,this.frame=0,this.deltatime=0;var i,o=0,a=[],s=function(e,t){if(e._time<n.time)if(0!=e._repeat){e.callback(e._time);var r=e._interval;r instanceof Array?e._time+=r[0]+Math.random()*(r[1]-r[0]):e._time+=r,e._repeat--}else setTimeout(n.off,0,e)},c=function(){requestAnimationFrame(c),n.update()};this.pause=function(e){return r=e,this},this.paused=function(){return r},this.start=function(){return i=(new Date).getTime(),o=0,n.frame=0,n.time=0,t&&c(),n},this.update=function(){var e=(new Date).getTime()-i,t=e-o;return o=e,t<250&&!r&&(n.time+=t,n.frame++,n.deltatime=t),a.forEach(s),n.time},this.onAt=function(e,t){var r={callback:t,_time:n.time+e,_repeat:1};return a.push(r),r},this.onEvery=function(e,t,r,i){if(0!==i){var o={callback:r,_time:n.time+t,_interval:e,_repeat:i||-1};return a.push(o),o}},this.off=function(e){if(e instanceof Function){var t="You are probably using the callback directly to remove it.\n";return t+="You should use the object returned from onAt or onEvery instead.",console.warn(t),void console.warn(e)}if(null!=e){var n=a.indexOf(e);return n>-1&&(a.splice(n,1),!0)}},this.clearTasks=function(){a.length=0},e&&n.start()};Timer.global=new Timer(!0,!0);var Value=function(e,t){var n=this,r=e,i=null,o=null,a=null,s=!1,c=[];n.observers=function(){return c},n.on=function(e,n,o){if(!(c.indexOf(e)>-1)){var a=e;return a.test=n,a.param=o,t||a.test&&!a.test(r,i)||a(r,i,o),c.push(a),a}},n.threshold=function(t,r,i,o,a){var s;return null!=r&&null!=i?(s=function(e,t){return e>=r&&t<r||e<i&&t>=i},e>=r&&e<i&&!a&&t(e)):null!=r&&null==i?(s=function(e,t){return e>=r&&t<r},e>=r&&!a&&t(e)):null==r&&null!=i&&(s=function(e,t){return e<i&&t>=i},e<i&&!a&&t(e)),n.on(t,s,o,!0)},n.off=function(e){var t=c.indexOf(e);t>-1&&c.splice(t,1)},n.range=function(e,t,r){return o=e,a=t,s=r,n},n.set=function(e){return n.value=e,n};var u=function(){for(var e,t=0,n=c.length;t<n;t++)e=c[t],e.test&&!e.test(r,i)||e(r,i,e.param)};Object.defineProperty(this,"value",{get:function(){return r},set:function(e){if(null!=o&&null!=a){if(e<o&&(s?e%=a+1:e=o,s))for(;e<o;)e+=a+1;if(e>a&&(s?e%=a+1:e=a,s))for(;e<o;)e+=a+1}e!=r&&(i=r,r=e,u())}}),Object.defineProperty(this,"last",{get:function(){return i}})},Application=function(){var e,t={};return t.flags={},document.location.search.substring(1).split("&").forEach(function(e){var n=e.split("=");t.flags[n[0]]=parseFloat(n[1])}),t.start=new Trigger,t.resize=new Trigger,t.route=new Value({parts:[]},!0),t.init=function(n){n=n||{},n.dontPrintVersion||console.log("%cMalibu v"+Framework.version+" b"+Framework.build+" (history:"+!n.disableHistoryAPI+")","background: #ff3600; color: #ffdede; padding: 4px 10px 4px 10px");var r={width:0,height:0,aspect:0,orientation:-1,event:null};window.addEventListener("resize",function(e){r.width=window.innerWidth,r.height=window.innerHeight,r.aspect=r.width/r.height,r.orientation=window.orientation,r.event=e,t.resize.trigger(r)}),e=HistoryRouter(t,n),e.init(),t.start.trigger()},t}(),Keyframes=function(){var e,t={},n=function(){e=document.createElement("style"),document.head.appendChild(e)};return t.add=function(t,r){e||n();var i="";for(var o in r)i+=o+"% { "+r[o]+" } ";var a="@-"+Simplrz.prefix.lowercase+"-keyframes "+t+" {"+i+"}";e.appendChild(document.createTextNode(a));var s="@keyframes "+t+" {"+i+"}";return e.appendChild(document.createTextNode(s)),t},t}(),DomExtend=function(){var e={};return e.create=function(t,n){var r=document.createElement(t);return n&&r.classList.add(n),e.extend(r),r},e.select=function(t,n){var r=(n||document).querySelector(t);return r&&!r.ext&&e.extend(r),r},e.selectAll=function(t,n){for(var r=(n||document).querySelectorAll(t),i=r.length,o=[],a=0;a<i;a++){var s=r[a];s.ext||(s=e.extend(s)),o.push(s)}return o},e.extend=function(t){if(t.ext)return t;var n={};return n.select=function(n){return e.select(n,t)},n.selectAll=function(n){return e.selectAll(n,t)},n.detach=function(){var e=t.parentNode;e&&e.removeChild(t)},n.attachTo=function(e){t.parentNode!=e&&e.appendChild(t)},window.ExtState&&ExtState(n,t),window.ExtTransform&&ExtTransform(n,t),window.ExtTransition&&ExtTransition(n,t),window.ExtAnimation&&ExtAnimation(n,t,e),n.element=t,t.ext=n,t},window.EXT=e,e}(),ExtState=function(e,t){e.data={},e.show=function(e){t.style.display=e||t.ext.__defaultDisplay||"block"},e.hide=function(){var n=e.readCss("display");t.ext.__defaultDisplay="none"==n?"block":n,t.style.display="none"},e.toggle=function(t,n){t?e.show(n):e.hide()},e.visible=function(){return"none"!=e.readCss("display")},e.on=function(e,n,r){return"doubleclick"==e?(n.___dcProxy=Util.handleDC(t,n),n.___dcProxy):t.addEventListener(e,n,r)},e.off=function(e,n,r){if(!n.___dcProxy)return t.removeEventListener(e,n,r);Util.clearDCHandler(t,n.___dcProxy)},e.readCss=function(e,n){if(n)return t.style[e];var r=getComputedStyle(t);if(r)return r.getPropertyValue(e);t.style[e]},e.bg=function(e,n){if(n){var r=new Image;r.addEventListener("load",function(){n(t,r),t.style.backgroundImage="url("+e+")"}),r.src=e}else t.style.backgroundImage="url("+e+")"}},ExtTransform=function(e,t){var n={width:0,height:0,top:0,left:0};e.rect=function(){try{return t.getBoundingClientRect()}catch(e){return console.log(e.stack),n}},e.width=function(n){return n?(t.style.width=n+"px",n):e.rect().width},e.height=function(n){return n?(t.style.height=n+"px",n):e.rect().height},e.x=0,e.y=0,e.z=0,e.rotX=0,e.rotY=0,e.rotZ=0,e.scaleX=1,e.scaleY=1,e.scaleZ=1,e.setX=function(t){return e.x=t,e},e.setY=function(t){return e.y=t,e},e.setZ=function(t){return e.z=t,e},e.transformToString=function(t){t=t||e;var n="";return t.x&&(n+="translateX("+t.x+"px) "),t.y&&(n+="translateY("+t.y+"px) "),Simplrz.css3d&&(n+="translateZ("+t.z+"px) "),t.rotX&&Simplrz.css3d&&(n+="rotateX("+t.rotX+"deg)  "),t.rotY&&Simplrz.css3d&&(n+="rotateY("+t.rotY+"deg)"),t.rotZ&&Simplrz.css3d?n+="rotateZ("+t.rotZ+"deg) ":t.rotZ&&(n+="rotate("+t.rotZ+"deg) "),1!=t.scaleX&&(n+="scaleX("+t.scaleX+") "),1!=t.scaleY&&(n+="scaleY("+t.scaleY+") "),1!=t.scaleZ&&Simplrz.css3d&&(n+="scaleZ("+t.scaleZ+")"),n},e.transform=function(n){if(n)for(var r in n)e[r]=n[r];var i=e.transformToString(e,!1);t.style[Simplrz.prefixedProp("transform")]=i,t.style.transform=i}},ExtTransition=function(e,t){var n={transition:"transitionEnd",Moz:"transitionend",O:"oTransitionEnd",Webkit:"webkitTransitionEnd",Ms:"MSTransitionEnd"},r=n[Simplrz.prefix.js],i="transform",o=function(){return(new Date).getTime()};e.createTransition=function(){function n(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var a,s,c,u,l={},d=[],f=[],h=0,m=function(e){if(--s<=0){var t=o()-c;t>=h?p():u||(setTimeout(p,t),u=!0)}},p=function(){l.clear(),a&&a()},v=function(n){for(var r=n.length,o=0;o<r;o++){var a=n[o][0],s=n[o][1];a==i?e.transform(s):t.style[a]=s}return l};return l.add=function(e,t,r,i,o){return h=Math.max(h,r),i=i||Util.cssEase.ease,o=o||0,d.push([n(e),r+"ms",i,o+"ms"].join(" ")),f.push([e,t]),l},l.trs=function(e,t,n,r){return h=Math.max(h,t),n=n||Util.cssEase.ease,r=r||0,d.push([Simplrz.prefix.css+"transform",t+"ms",n,r+"ms"].join(" ")),f.push([i,e]),l},l.clear=function(){t.removeEventListener(r,m),d=[],f=[],t.style[Simplrz.prefix.js+"Transition"]="",t.style.transition=""},l.start=function(e){a=e,s=f.length;t.offsetWidth;return t.addEventListener(r,m),c=o(),u=!1,t.style[Simplrz.prefix.js+"Transition"]=d,t.style.transition=d,v(f),l},l.then=function(t){var n=e.createTransition(),r=function(){t(),n.start()};return l.start(r),n},l},e.transition=function(t,n,r,o,a){var s=e.createTransition();for(var c in t){var u=t[c];c==i?s.trs(u,n,r,o):s.add(c,u,n,r,o)}return s.start(a),s}},ExtAnimation=function(e,t,n){var r={animation:"animationend",Moz:"animationend",O:"oanimationend",Webkit:"webkitAnimationEnd",Ms:"MSAnimationEnd"},i=function(e){return[e.name,e.duration+"s",e.ease,e.delay+"s",e.count,e.direction,e.fillMode].join(" ")},o=function(e,t,n,r){var i={name:e,duration:t||1,ease:n||"ease",delay:r||0,count:1,direction:"normal",fillMode:"backwards"};return i.setTime=function(e){return i.time=e,i},i.setDelay=function(e){return i.delay=e,i},i};n.createAnimation=o,e.createAnimation=o,e.animate=function(n,o,a){var s;if(n instanceof Array){var c=[];n.forEach(function(e){c.push(i(e))}),s=c.join(", ")}else s=i(n);var u=r[Simplrz.prefix.js];t._onEnded&&t.removeEventListener(u,t._onEnded),t._onEnded=function(){t.removeEventListener(u,t._onEnded),null==a&&(t.style[Simplrz.prefix.js+"Animation"]="",t.style.animation=""),o&&o()},t.style[Simplrz.prefix.js+"Animation"]="",t.style.animation="",setTimeout(function(){e.show&&e.show(),t.addEventListener(u,t._onEnded),t.style[Simplrz.prefix.js+"Animation"]=s,t.style.animation=s},0)}},FrameImpulse=function(){for(var e,t=["webkit","moz"],n={},r=[],i=0,o=[],a=0,s=0;s<t.length&&!window.requestAnimationFrame;++s)window.requestAnimationFrame=window[t[s]+"RequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-a)),r=window.setTimeout(function(){e(t+n)},n);return a=t+n,r});var c=function(t){if(requestAnimationFrame(c),0!=i){for(var n=0;n<i;n++)r[n].call(t);if(e>0){for(var a=[],n=r.length-1;n>=0;n--)for(var s=0;s<o.length;s++)r[n]===o[s]&&a.push(n);for(var n=0;n<a.length;n++)r.splice(a[n],1);i=r.length,o=[],e=0}}};return n.on=function(e){r.indexOf(e)>-1||(r.push(e),i=r.length)},n.off=function(e){var t=r.indexOf(e);-1!=t&&(r.splice(t,1),i=r.length)},n.getListeners=function(){return r},c(),n}(),HistoryRouter=function(e,t){var n=t&&t.disableHistoryAPI||!Simplrz.history,r=document.location.protocol+"//"+(document.location.hostname||document.location.host);document.location.port&&(r+=":"+document.location.port),e.navigate=new Trigger,e.hijackLinks=new Trigger,Application.history=[];var i=function(){var t=document.querySelector("base");t=t&&t.getAttribute("href")?t.getAttribute("href"):"/","/"==t&&(t=""),"/"==t[t.length-1]&&(t=t.substring(0,t.length-1)),e.baseUrl=t},o=function(t){var n=(t||document).querySelectorAll("a[href]");n=Array.prototype.slice.call(n),t&&"a"==t.nodeName.toLowerCase()&&n.unshift(t);for(var r=0;r<n.length;r++){var i=n[r],o=i.getAttribute("href"),a=i.getAttribute("target"),s=i.getAttribute("data-hj");if(!(null==o||o.indexOf(":")>-1||"_blank"==a||"no"==s)&&!i.hijacked){i.hijacked=!0,i.originalHref=i.getAttribute("href")||"",i.hijackedHref=e.baseUrl+"/"+i.getAttribute("href"),0==i.hijackedHref.indexOf("//")&&(i.hijackedHref=i.hijackedHref.substring(1));var c=function(t){t&&t.preventDefault(),e.navigate.trigger(this.hijackedHref)};i.addEventListener("click",c)}}},a=function(t){var i={};if(n)i.route=t||"";else{var o=document.location.href.indexOf("?"),a=document.location.href.indexOf("#"),s=document.location.href;o>-1&&(s=s.substring(0,o)),a>-1&&(s=s.substring(0,a)),i.route=s.substring(r.length+1+e.baseUrl.length)}for(i.parts=i.route.split("/");""==i.parts[0];)i.parts.shift();for(;""==i.parts[i.parts.length-1];)i.parts.pop();i.lastPart=i.parts[i.parts.length-1],i.route!=e.route.value.route&&(Application.history.push(i),e.route.value=i)};n||window.addEventListener("popstate",function(e){a()}),e.hijackLinks.on(o);var s,c=function(e){var t=s();return e.returnValue=t,t};return e.setNavigateCondition=function(e){s=e,window.addEventListener("beforeunload",c)},e.clearNavigateCondition=function(){window.removeEventListener("beforeunload",c),s=null},e.navigate.on(function(e){var t=function(){history.pushState(null,null,e),a()};s?s(t,e):t()}),{init:function(){if(i(),n){var e,r=document.location.search;if(t&&t.home&&(e=t.home),r.indexOf("=")>-1){r.substring(1).split("&").forEach(function(t){t.indexOf("id=")>-1&&(e=t.split("=")[1])})}else r&&(e=r.substring(1));a(e||"")}else a()}}},Loader={loadText:function(e,t,n,r){var i=new XMLHttpRequest;i.open(n?"POST":"GET",e,!0),i.withCredentials=!0,i.addEventListener("readystatechange",function(e){if(4==i.readyState){if(!i.responseText)return void console.warn("empty response");t(i.responseText)}}),r&&i.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;r(t,e.loaded,e.total)}}),i.send(n)},loadJSON:function(e,t,n,r){Loader.loadText(e,function(e){t(JSON.parse(e))},n,r)}},VirtualScroll=function(){var e,t,n={},r=[],i=!1,o=2,a=15,s=120,c=1,u="onwheel"in document,l="onmousewheel"in document,d="ontouchstart"in document,f="onkeydown"in document,h=!!window.navigator.pointerEnabled,m=!!window.navigator.msPointerEnabled,p=navigator.userAgent.indexOf("Firefox")>-1,v=!1,g={y:0,x:0,deltaX:0,deltaY:0,startX:0,startY:0,multiTouch:!1,y2:0,x2:0,startX2:0,startY2:0,originalEvent:null,source:null};n.on=function(t){i||(z(document),i=!0),-1==r.indexOf(t)&&(r.push(t),e=r.length)},n.options=function(e){s=e.keyStep||120,a=e.firefoxMult||15,o=e.touchMult||2,c=e.mouseMult||1},n.off=function(t){var n=r.indexOf(t);-1!=n&&(r.splice(n,1),(e=r.length)<=0&&(A(document),i=!1))};var w=function(e){e.preventDefault()};n.lockTouch=function(){document.addEventListener("touchmove",w,{passive:!1})},n.unlockTouch=function(){document.removeEventListener("touchmove",w,{passive:!1})},n.lockWheel=function(){u&&document.addEventListener("wheel",w,{passive:!1}),l&&document.addEventListener("mousewheel",w,{passive:!1})},n.unlockWheel=function(){u&&document.removeEventListener("wheel",w,{passive:!1}),l&&document.removeEventListener("mousewheel",w,{passive:!1})};var x=function(t,n){g.x+=g.deltaX,g.y+=g.deltaY,g.originalEvent=t,g.source=n;for(var i=0;i<e;i++)r[i](g)},b=function(e){g.deltaX=e.wheelDeltaX||-1*e.deltaX,g.deltaY=e.wheelDeltaY||-1*e.deltaY,p&&1==e.deltaMode&&(g.deltaX*=a,g.deltaY*=a),g.deltaX*=c,g.deltaY*=c,x(e,"wheel")},y=function(e){g.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,g.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,x(e,"wheel")},E=function(e){var t=e.targetTouches?e.targetTouches[0]:e;g.startX=t.pageX,g.startY=t.pageY,e.targetTouches&&e.targetTouches.length>1?(t=e.targetTouches[1],g.startX2=t.pageX,g.startY2=t.pageY,g.multiTouch=!0):g.multiTouch=!1,v=!0},T=function(){v=!1,g.multiTouch=!1},k=function(e){if(v){var t=e.targetTouches?e.targetTouches[0]:e;g.startX||(g.startX=t.pageX),g.startY||(g.startY=t.pageY),g.x=t.pageX,g.y=t.pageY,g.deltaX=(t.pageX-g.startX)*o,g.deltaY=(t.pageY-g.startY)*o,g.startX=t.pageX,g.startY=t.pageY,e.targetTouches&&e.targetTouches.length>1?(t=e.targetTouches[1],g.multiTouch=!0,g.startX2||(g.startX2=t.pageX),g.startY2||(g.startY2=t.pageY),g.x2=t.pageX,g.y2=t.pageY):g.multiTouch=!1,x(e,"touch")}},L=function(e){switch(g.deltaX=g.deltaY=0,e.keyCode){case 37:g.deltaX=-s;break;case 39:g.deltaX=s;break;case 38:g.deltaY=s;break;case 40:g.deltaY=-s}x(e,"key")},S={passive:!0},z=function(e){u&&e.addEventListener("wheel",b,S),l&&e.addEventListener("mousewheel",y,S),d&&(e.addEventListener("touchstart",E),e.addEventListener("touchmove",k),e.addEventListener("touchend",T)),(h||m)&&(t=e.body.style.touchAction,e.body.style.touchAction="none",e.addEventListener(m?"MSPointerDown":"PointerDown",E,!0),e.addEventListener(m?"MSPointerMove":"PointerMove",k,!0),e.addEventListener(m?"MSPointerUp":"PointerUp",T,!0)),f&&e.addEventListener("keydown",L)},A=function(e){u&&e.removeEventListener("wheel",b,S),l&&e.removeEventListener("mousewheel",y,S),d&&(e.removeEventListener("touchstart",E),e.removeEventListener("touchmove",k),e.removeEventListener("touchend",T)),(h||m)&&(e.body.style.touchAction=t,e.removeEventListener(m?"MSPointerDown":"PointerDown",E,!0),e.removeEventListener(m?"MSPointerMove":"PointerMove",k,!0),e.removeEventListener(m?"MSPointerUp":"PointerUp",T,!0)),f&&e.removeEventListener("keydown",L)};return n.trackFrame=function(e){z(e)},n.untrackFrame=function(e){A(e)},n}(),Gesture=function(e){e=e||{};var t=this,n="ontouchstart"in document,r=n?"touchstart":"mousedown",i=n?"touchmove":"mousemove",o=n?"touchend":"mouseup";this.swipeUp=new Trigger,this.swipeDown=new Trigger,this.swipeLeft=new Trigger,this.swipeRight=new Trigger;var a=e.tolerance||.1,s={x:0,y:0},c={x:0,y:0},u=0,l=e.maxTime||300,d=e.minDistance||30;d*=d;var f=function(e){e=n?e.targetTouches[0]:e,s.x=e.pageX,s.y=e.pageY,c.x=0,c.y=0,u=(new Date).getTime()},h=function(e){e=n?e.targetTouches[0]:e,c.x=e.pageX-s.x,c.y=e.pageY-s.y},m=function(e){var n=c.x*c.x+c.y*c.y,r=(new Date).getTime()-u,i=a;if(!(r>l||n<d)){var o=Math.atan2(c.y,c.x)/Math.PI;o>-.5-i&&o<-.5+i&&t.swipeUp.trigger(),o>.5-i&&o<.5+i&&t.swipeDown.trigger(),o>0-i&&o<0+i&&t.swipeRight.trigger(),(o<-1+i||o>1-i)&&t.swipeLeft.trigger()}},p=function(e){switch(c.x=c.y=0,e.keyCode){case 39:t.swipeLeft.trigger();break;case 37:t.swipeRight.trigger();break;case 40:t.swipeUp.trigger();break;case 38:t.swipeDown.trigger()}};this.create=function(){(e.element||document).addEventListener(r,f),document.addEventListener(i,h),document.addEventListener(o,m),e.noKeyboard||document.addEventListener("keydown",p)},this.destroy=function(){(e.element||document).removeEventListener(r,f),document.removeEventListener(i,h),document.removeEventListener(o,m),e.noKeyboard||document.removeEventListener("keydown",p)},this.create()},Template=function(){var e=this;this.content;var t;this.set=function(n){if(n instanceof HTMLElement)e.content=EXT.extend(n.cloneNode(!0));else{var r=document.createElement("div");r.innerHTML=n?n.trim():"",e.content=EXT.extend(r.firstChild)}return t={},e},this.wrap=function(n){return e.content=EXT.extend(n),t={},e},this.select=function(n){if(t[n])return t[n];var r=e.content.ext.select(n);if(!r)throw"Selector not found: "+n;return t[n]=r,r},this.clearCache=function(){t={}},this.hide=function(t){e.select(t).style.display="none"},this.attachTo=function(t,n){e.content&&(e.content.ext.attachTo(t),n&&requestAnimationFrame(function(){requestAnimationFrame(n)}))},this.detach=function(t){e.content&&(t?t(function(){e.content.ext.detach()}):e.content.ext.detach())},this.updateText=function(t,n){console.warn("Template.updateText is deprecated, use Template.text instead"),e.select(t).innerHTML=n},this.text=function(t,n){e.select(t).innerHTML=n},this.appendText=function(t,n){e.select(t).innerHTML+=n},this.append=function(t,n){e.select(t).appendChild(n)},this.clone=function(){},this.insertList=function(t,n,r){n.forEach(function(n){if(r){var i=r.content.cloneNode(!0);i.innerHTML=n,e.append(t,i)}else e.appendText(t,n)})}},Util={fullbleed:function(e,t,n){var r,i,o,a,s=e.videoWidth>0,c=t||window.innerWidth,u=n||window.innerHeight,l=s?e.videoWidth:e.naturalWidth,d=s?e.videoHeight:e.naturalHeight,f=c/u,h=l/d;return h<f?(r=0,o=c,a=d/l*c,i=-.5*(a-u)):h>f?(i=0,a=u,o=l/d*u,r=-.5*(o-c)):(r=i=0,o=c,a=u),[r,i,o,a]},fullContain:function(e,t,n){var r,i,o,a,s=e.videoWidth>0,t=window.innerWidth,n=window.innerHeight,c=s?e.videoWidth:e.width,u=s?e.videoHeight:e.height,l=t/n,d=c/u;return l>d?(i=0,a=n,o=n/u*c,r=.5*(t-o)):l<d?(r=0,o=t,a=t/c*u,i=.5*(n-a)):(r=0,i=0,o=t,a=n),[r,i,o,a]},resizeTo:function(e,t){e.style.left=t[0]+"px",e.style.top=t[1]+"px",e.style.width=t[2]+"px",e.style.height=t[3]+"px"},hexToRgb:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},handleTap:function(e,t){var n=t.___thProxy||function(){var n,r,i,o={},a=e,s=t;return o.click=function(e){},o.touchStart=function(e){n=(new Date).getTime(),r=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY},o.touchEnd=function(e){var t=(new Date).getTime()-n,o=e.changedTouches[0].pageX-r,c=e.changedTouches[0].pageY-i,u=o*o+c*c;t<2e4&&u<100&&s.call(a,e)},o}();return e.addEventListener("touchstart",n.touchStart),e.addEventListener("touchend",n.touchEnd),e.addEventListener("click",n.click),n},clearTapHandler:function(e,t){e.removeEventListener("touchstart",t.touchStart),e.removeEventListener("touchend",t.touchEnd),e.removeEventListener("click",t.click)},handleDC:function(e,t){var n=t.___dcProxy||function(){var n={},r=e,i=t,o=Simplrz.touch,a=o?300:200,s=o?12:5,c=0,u=-s,l=-s;return n.click=function(e){var t=e.changedTouches?e.changedTouches[0].pageX:e.pageX,n=e.changedTouches?e.changedTouches[0].pageY:e.pageY;e.pageX=t,e.pageY=n;var o=(new Date).getTime();o-c<a&&t-u<s&&n-l<s?(i.call(r,e),c=0,u=-s,l=-s):(c=o,u=t,l=n)},n}();return e.addEventListener("click",n.click),n},clearDCHandler:function(e,t){e.removeEventListener("click",t.click)},cssEase:{ease:"ease",smoothstep:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"}};